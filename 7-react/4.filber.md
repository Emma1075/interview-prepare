
## React16 以前

- React16 以前，对virtural dom的更新和渲染是同步的。

- 当一次更新或者一次加载开始以后，diff virtual dom并且渲染的过程是一口气完成的。

- 如果组件层级比较深，相应的堆栈也会很深，长时间占用浏览器主线程
  - 一些类似用户输入、鼠标滚动等操作得不到响应



## React16 Fiber Reconciler
React16 用了分片的方式解决上面的问题。

1. 把一个任务分成很多小片

2. 当分配给这个小片的时间用尽的时候，就检查任务列表中有没有新的、优先级更高的任务
  - 有就做这个新任务
  - 没有就继续做原来的任务

这种方式被叫做异步渲染(Async Rendering)。